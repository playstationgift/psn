(window.pswCommerceAnywhere=window.pswCommerceAnywhere||[]).push([[22],{375:function(e,t,r){"use strict";r.r(t);var n=r(17),a=r.n(n),o=r(25),c=r.n(o),i=r(35),s=r(1),l=r.n(s),u=r(2),d=r.n(u),p=r(20),m=r.n(p),f=r(19),h=r.n(f),v=r(15),w=r.n(v),g=r(0),y=r(360),_=r(6),b=r(52),C=r(37),O=r(57),k=r(86);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var a=w()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var S=function(e){m()(r,e);var t=I(r);function r(){return l()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.qa,n=e.format,a=e.onReload;return g.g.createElement("div",{"data-qa":r},g.g.createElement("div",{className:Object(_.b)("psw-l-line-repel","psw-m-m")},g.g.createElement("h2",{"data-qa":"".concat(r,"#header#title")},n("string","msgid_cart")),g.g.createElement(C.a,{variant:"content",onClick:t,qa:"".concat(r,"#header#close"),className:"psw-top-left",ariaLabel:n("string","msgid_sr_close_dialog")},g.g.createElement(O.a,{type:"close",size:"l"}))),g.g.createElement("div",{className:Object(_.b)("psw-l-stack-center","psw-l-line-center","psw-m-x-l","psw-fill-y","psw-m-t-3xl")},g.g.createElement(k.a,{className:"psw-m-b-s psw-m-t-3xl",namespace:"ps-illustration",type:"error-general-fail",qa:"".concat(r,"#details#image")}),g.g.createElement("span",{className:"psw-h3 psw-m-b-s","data-qa":"".concat(r,"#details#primary")},n("string","msgid_well_didn_work")),g.g.createElement("span",{className:"psw-h6 psw-l-line-center psw-m-b-s","data-qa":"".concat(r,"#details#secondary")},n("string","msgid_we_were_unable_load")),g.g.createElement(C.a,{onClick:a,ariaLabel:n("string","msgid_try_again"),qa:"".concat(r,"#details#tryAgain"),className:"psw-c-accent-1 psw-c-interactive",variant:"content"},g.g.createElement("span",{"data-qa":"".concat(r,"#details#tryAgain#label")},n("string","msgid_try_again")))))}}]),r}(g.d);S.defaultProps={qa:"mfe-cart-error",onClose:function(){},format:function(){},onReload:function(){}};var P=S;function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var a=w()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var R=function(e){m()(r,e);var t=j(r);function r(){return l()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){var e=this.props,t=e.src,r=e.name,n=e.isOpen,a=e.onClose,o=e.open,c=e.openOnMount,i=e.isCartLoading,s=e.shouldShowErrorScreen,l=e.format,u=e.onReload;return g.g.createElement(y.a,{className:"psw-light-theme",openOnMount:c,isOpen:n,onClose:a,onOpen:o},!i&&s&&g.g.createElement(P,{onClose:a,format:l,onReload:u}),i&&g.g.createElement("span",{className:Object(_.b)("psw-center","psw-m-r-m","psw-clip")},g.g.createElement(b.a,{className:"psw-spin",src:"loading-circle-dark.png",useStatic:!0,place:"center",fit:"cover",width:50,aspectRatio:"1:1"})),g.g.createElement("iframe",{"aria-hidden":!n,className:Object(_.b)("psw-fill",{"psw-hide":s}),style:{visibility:i?"hidden":"visible"},title:l("string","msgid_cart_web_checkout"),name:r,src:t,frameBorder:0,allow:"payment"}))}}]),r}(g.d);R.defaultProps={src:"",isOpen:!1,onClose:function(){},open:function(){},openOnMount:!1,isCartLoading:!0,shouldShowErrorScreen:!1,format:function(){},onReload:function(){}};var E=R,U=r(3),A=r.n(U);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={_saveToUrl:function(e){window.history.replaceState(null,"",e)},setItem:function(e,t){if(t){var r=new URL(window.location.href);r.searchParams.append(e,t),this._saveToUrl(r.toString())}},setItems:function(e){var t=this,r=e||{};Object.keys(r).forEach((function(e){return t.setItem(e,r[e])}))},getItem:function(e){return new URL(window.location.href).searchParams.get(e)},getItems:function(e){var t=this;return e.reduce((function(e,r){var n=t.getItem(r);return n?L(L({},e),{},A()({},r,n)):e}),{})},removeItem:function(e){var t=new URL(window.location.href);t.searchParams.delete(e),this._saveToUrl(t.toString())},removeItems:function(e){var t=this;e.forEach((function(e){return t.removeItem(e)}))}};function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){function e(){l()(this,e),A()(this,"_openParams",{}),A()(this,"_urlKeys",["cartAction","skuId","prologueEmsAlias","transactAction","upSellService","cartRedirectUrl"])}return d()(e,[{key:"stage",value:function(e){this._openParams=e}},{key:"unstage",value:function(){this._openParams={}}},{key:"getSavedAction",value:function(){var e={};try{e=JSON.parse(localStorage.getItem("wca:savedCartAction"))}catch(e){throw new Error("Could not restore cart action from localStorage")}return M(M({},e),T.getItems(this._urlKeys))}},{key:"save",value:function(){var e=this;localStorage.setItem("wca:savedCartAction",JSON.stringify(this._openParams)),T.setItems(this._urlKeys.reduce((function(t,r){return M(M({},t),{},A()({},r,e._openParams[r]))}),{}))}},{key:"reset",value:function(){localStorage.removeItem("wca:savedCartAction"),T.removeItems(this._urlKeys)}}]),e}(),x=r(87),F=r.n(x),B=r(336),K=["checkout_cart_cancel","checkout_continue_shopping","checkout_thankyou_dismiss","transact_action_completed","checkout_error_dismiss"],G=[],H=["checkout_signin_required","checkout_password_verification_required"],J=function(){function e(t){var r=this,n=t.name,a=t.clientId,o=t.origin,c=t.loadTimeout,i=t.enableUpsellFlow;l()(this,e),A()(this,"on",(function(){var e;return(e=r._observer).on.apply(e,arguments)})),A()(this,"off",(function(){var e;return(e=r._observer).off.apply(e,arguments)})),A()(this,"startCartLoadTimer",(function(){r.cartLoadTimer=setTimeout((function(){r._observer.emit("showCartError")}),r.loadTimeout)})),A()(this,"clearCartLoadTimer",(function(){return clearTimeout(r.cartLoadTimer)})),A()(this,"_makeNonce",(function(){return Math.round(1e4*Math.random())})),A()(this,"_makeUrl",(function(e){var t=e.route,n=e.queryParams,a=e.addNonce;if(e.isRedirectUrl){var o=new URL(t);return o.searchParams.set("hostUrl",window.location.href),o.toString()}var c=new URL(window.location.href),i=new URLSearchParams(window.location.search),s=i.get("voucherCode");i.delete("voucherCode"),i.delete("cartAction"),c.search=i.toString();var l=c.toString(),u=["clientId=".concat(encodeURIComponent(r.clientId),"&hostUrl=").concat(encodeURIComponent(l))],d=a?["nonce=".concat(r._makeNonce())]:[],p=s?["voucherCode=".concat(s)]:[],m="?".concat(u.concat(n,d,p).join("&"));return"".concat(r.origin,"/").concat(t).concat(m)})),A()(this,"_makeUrlForPurchase",(function(e){var t=e.type,n=e.skuId,a=e.prologueEmsAlias,o=e.rewardId,c=e.upSellService,i=["PS_NOW","EA_ACCESS","UBISOFT_PLUS","GTA_PLUS"].includes(c);"buynow"===t.toLowerCase()&&"PS_PLUS"===c&&(i=!0);var s=/^(ea|now)--/.test(a),l=i?"subscribe":"".concat(t,"/").concat(n),u=[];return o&&u.push("rewardId=".concat(encodeURIComponent(o))),r.enableUpsellFlow&&(i?u=u.concat("upsell-type=subscribe","emsId=".concat(a)):a&&!s&&u.push("upsell-type=service_".concat(a))),r._makeUrl({route:l,queryParams:u,addNonce:!0})})),A()(this,"_makeRedirectUrl",(function(e){return r._makeUrl({route:e,queryParams:[],addNonce:!0,isRedirectUrl:!0})})),A()(this,"_makeUrlForCart",(function(e){return r._makeUrl({route:"cart",queryParams:e?["transact-action=".concat(e)]:[],addNonce:!0,isRedirectUrl:!1})})),A()(this,"_parseMessage",(function(e){var t=(e||{}).data;if(!t)return{};if("object"===F()(t))return t;try{var r=JSON.parse(t);return{nonce:r.nonce,action:r.action,data:r.data}}catch(e){return console.error("json parse error",e),{}}})),A()(this,"_handleMessage",(function(e){if(e.origin===r.origin){var t=r._parseMessage(e),n=t.action,a=t.data;if("checkout_purchase_complete"===n&&r._observer.emit("purchaseComplete",a),"checkout_item_added"===n&&r._observer.emit("itemAddedToCart",{numItemsInCart:a.numItemsInCart,productId:a.productId,skuId:a.skuId}),"checkout_app_visible"===n&&r._observer.emit("cartVisible"),"checkout_error_visible"===n&&r._observer.emit("errorInCart",{cartAction:a.cartAction,skuId:a.skuId,productId:a.productId}),"checkout_item_removed"===n&&r._observer.emit("itemRemovedFromCart",{numItemsInCart:a.numItemsInCart,productId:a.productId,skuId:a.skuId}),"redirect_required"===n){var o=a.redirectUrl;o&&window.open(o,"_self")}if("checkout_redirect_to_game_library"===n){var c=a.gameLibraryUrl;c&&window.open(c,"_self")}if(K.includes(n)&&r._observer.emit("closeCart"),G.includes(n)&&r.reload(),H.includes(n)){var i={redirectUri:a.cartRedirectUri,flow:"checkout_password_verification_required"===n?"web:walletAdmin":""};r._observer.emit("authRequired",i)}}})),this.name=n,this.clientId=a,this.origin=o,this.loadTimeout=c,this.enableUpsellFlow=i,this._observer=new B.a({name:this.name,events:["closeCart","authRequired","purchaseComplete","itemAddedToCart","itemRemovedFromCart","cartVisible","errorInCart","showCartError"]})}return d()(e,[{key:"init",value:function(){"undefined"==typeof window||window.hasMessageHandler||(window.addEventListener("message",this._handleMessage),window.hasMessageHandler=!0)}},{key:"destroy",value:function(){window.removeEventListener("message",this._handleMessage),window.hasMessageHandler=!1,this.off()}},{key:"makeUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skuId,n=t.prologueEmsAlias,a=t.rewardId,o=t.transactAction,c=t.upSellService,i=t.cartRedirectUrl,s=/^(add|buynow)$/i.test(e);return s?this._makeUrlForPurchase({type:e,rewardId:a,skuId:r,prologueEmsAlias:n,upSellService:c}):i?this._makeRedirectUrl(i):this._makeUrlForCart(o)}},{key:"getCartIframe",value:function(){return document.querySelector('iframe[name="'.concat(this.name,'"]'))}},{key:"reload",value:function(){var e=this.getCartIframe()||{};e.src=e.src}}]),e}();function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var W=function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{cart:{make:function(e){return{ui:"CartDrawer",layer:"drawer",scrim:"top",persist:!0,name:e.name,src:e.src,openOnMount:e.openOnMount,actions:{onReload:e.onReload}}}}})};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Y=function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},W())},$=r(153),Q=r(361);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w()(e);if(t){var a=w()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return h()(this,r)}}var Z=function(e){m()(r,e);var t=X(r);function r(){return l()(this,r),t.apply(this,arguments)}return d()(r,[{key:"render",value:function(){return g.g.createElement("div",{className:"psw-full-screen psw-pointer-events-off"},g.g.createElement(Q.a,{className:"psw-bottom-left psw-pointer-events-on",force:!1,disableFixedTop:!0}))}}]),r}(g.d);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te=function(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{gdprConsent:{make:function(){return{ui:"GdprConsent",layer:"notification",persist:!0}}}})},re=r(363),ne=function(e){var t=e.app,r=e.theme,n=document.createElement("div");n.id="psw-layers",n.classList.add("psw-root"),n.classList.add("psw-".concat(r,"-theme")),n.classList.add("psw-layer"),n.classList.add("psw-pointer-events-off"),n.classList.add("psw-allow-scroll"),document.body.appendChild(n),g.g.render(g.g.createElement(re.a,{format:t.i18n.format,getComponent:t.getComponent,layers:t.layers.getLayers()}),n)};t.default=function(e){var t=e.app,r=e.theme;(ne({app:t,theme:r}),function(e){var t=e.app;return{name:"cart",_cartRestorer:new q,_bootstrapCartClient:function(){var e=this;this._cartClient=new J({name:t.config.get("client.webCheckout.name"),clientId:t.config.get("client.webCheckout.clientId"),origin:t.config.get("client.webCheckout.origin"),loadTimeout:t.config.get("client.webCheckout.loadTimeout"),enableUpsellFlow:t.config.get("feature.enableUpsellCtas")}),this._cartClient.init(),this._cartClient.on("purchaseComplete",(function(e){t.emit("cartItemCountUpdate",{numItemsInCart:0},{isPublic:!0}),t.emit("purchaseComplete",e)})),this._cartClient.on("itemAddedToCart",(function(e){t.emit("cartItemCountUpdate",e,{isPublic:!0}),t.emit("itemAddedToCart",e)})),this._cartClient.on("errorInCart",(function(e){return t.emit("errorInCart",e)})),this._cartClient.on("itemRemovedFromCart",(function(e){t.emit("cartItemCountUpdate",e,{isPublic:!0}),t.emit("itemRemovedFromCart",e)})),this._cartClient.on("closeCart",(function(){return e.close()})),this._cartClient.on("authRequired",(function(t){return e._signIn(t)})),this._cartClient.on("cartVisible",(function(){e._cartClient.clearCartLoadTimer(),e._cartDrawer.update({isCartLoading:!1})})),this._cartClient.on("showCartError",(function(){t.telemetry.capture("uver:js-exception",{message:"Unable to load cart (check if client is in checkout allowlist)"}),e._cartDrawer.update({isCartLoading:!1,shouldShowErrorScreen:!0})}))},_signIn:function(e){var r=this;return c()(a.a.mark((function n(){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r._cartRestorer.save(),n.next=3,t.session.signIn(e);case 3:case"end":return n.stop()}}),n)})))()},_bootstrapAndOpenCartDrawer:function(e){var r=this,n=e.src;this._cartDrawer=t.layers.initItem({type:"cart",name:this._cartClient.name,openOnMount:!0,isCartLoading:!0,shouldShowErrorScreen:!1,src:n,onReload:function(){return r.reload()}}),this._cartDrawer.on("close",(function(e){t.emit("clickAwayCloseCart",e)}))},reload:function(){this._cartClient.reload(),this._cartClient.startCartLoadTimer(),this._cartDrawer.update({isCartLoading:!0,shouldShowErrorScreen:!1})},open:function(e){var r=this;return c()(a.a.mark((function n(){var o,c,i,s,l,u,d,p,m,f,h,v,w;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.type,c=e.skuId,i=e.rewardId,s=e.prologueEmsAlias,l=e.transactAction,u=e.upSellService,d=e.ctaDataTrackClick,p=e.telemetryMeta,m=e.cartRedirectUrl,f=e.smcid,r._cartRestorer.stage({cartAction:t.session.isUserSignedIn()&&"add"===o?"view":o,skuId:c,prologueEmsAlias:s,transactAction:l,upSellService:u,ctaDataTrackClick:d,telemetryMeta:p,cartRedirectUrl:m}),t.session.isUserSignedIn()){n.next=6;break}return n.next=5,r._signIn();case 5:return n.abrupt("return");case 6:if(r._cartClient||r._bootstrapCartClient(),h=r._cartClient.makeUrl(o,{skuId:c,prologueEmsAlias:s,rewardId:i,transactAction:l,upSellService:u,cartRedirectUrl:m}),v=function(e,t){var r=new URL(e);return r.searchParams.set("smcid",t),r.toString()},!f){n.next=13;break}n.t0=v(h,f),n.next=16;break;case 13:return n.next=15,t.telemetry.appendSmcid(h,p);case 15:n.t0=n.sent;case 16:w=n.t0,r._cartClient.startCartLoadTimer(),r._cartDrawer?(r._cartDrawer.update({src:w,isCartLoading:!0}),r._cartDrawer.open()):r._bootstrapAndOpenCartDrawer({src:w});case 19:case"end":return n.stop()}}),n)})))()},close:function(){this._cartRestorer.unstage(),this._cartDrawer.close({delay:400})},_restoreCartChecker:function(e){var r=this;return c()(a.a.mark((function n(){var o,c,s,l,u,d,p,m;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r._cartRestorer.getSavedAction(),c=o.cartAction,s=o.skuId,l=o.prologueEmsAlias,u=o.transactAction,d=o.upSellService,p=o.ctaDataTrackClick,m=o.telemetryMeta,!c&&!e){n.next=6;break}return n.next=4,r.open({type:e?"view":c,skuId:s,prologueEmsAlias:l,transactAction:u,upSellService:d,cartRedirectUrl:e});case 4:r._cartRestorer.reset(),"view"!==c&&(a=void 0,a=Object(i.a)(window,"location.hostname"),/^(webstore|store)\./.test(a))&&t.telemetry.capture(null==p?void 0:p.replace(":",":click:"),m);case 6:case"end":return n.stop()}var a}),n)})))()},init:function(){var e=this;return c()(a.a.mark((function r(){var n,o,c,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Object($.a)({telemetry:t.telemetry,session:t.session}),t.addComponent("CartDrawer",E),t.layers.addLayerItemTypes(Y()),c=new URLSearchParams(null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.search),i=c.get("cart_uri"),r.next=7,e._restoreCartChecker(i);case 7:e.removeAddToCartListener=t.on("ADD_TO_CART",(function(t){var r=t.skuId,n=t.prologueEmsAlias,a=t.rewardId,o=t.upSellService,c=t.ctaDataTrackClick,i=t.telemetryMeta,s=void 0===i?{}:i,l=t.smcid;e.open({type:"add",skuId:r,rewardId:a,prologueEmsAlias:n,ctaDataTrackClick:c,telemetryMeta:s,upSellService:o,smcid:l})})),e.removeBuyNowListener=t.on("BUY_NOW",(function(t){var r=t.skuId,n=t.prologueEmsAlias,a=t.upSellService,o=t.ctaDataTrackClick,c=t.telemetryMeta,i=void 0===c?{}:c;e.open({type:"buynow",skuId:r,prologueEmsAlias:n,ctaDataTrackClick:o,telemetryMeta:i,upSellService:a})})),e.removeOpenCartListener=t.on("OPEN_CART",(function(t){var r=t.transactAction,n=t.ctaDataTrackClick,a=t.telemetryMeta,o=void 0===a?{}:a;e.open({type:"view",transactAction:r,ctaDataTrackClick:n,telemetryMeta:o})}));case 10:case"end":return r.stop()}}),r)})))()},destroy:function(){this._cartDrawer.destroy(),this._cartClient.destroy(),this.removeAddToCartListener(),this.removeBuyNowListener(),this.removeOpenCartListener()}}}({app:t}).init(),t.config.get("client.feature.evidonNoticeEnabled"))||function(e){var t=e.app;return{name:"gdprConsent",init:function(){Q.a.configure({instance:t.gdpr}),t.addComponent("GdprConsent",Z),t.layers.addLayerItemTypes(te()),this._gdprConsentPrompt=t.layers.initItem({type:"gdprConsent"}),this._gdprConsentPrompt.open()},destroy:function(){this._gdprConsentPrompt.close()}}}({app:t}).init()}}}]);